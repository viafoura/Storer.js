/*! Storer.js (light)
 * This light version removes userData and window.name storage. It is incompatible Internet Explorer prior to IE8.
 * @copyright Viafoura, Inc. <viafoura.com>
 * @author Shahyar G <github.com/shahyar> for <github.com/viafoura>
 * @license CC-BY 3.0 <creativecommons.org/licenses/by/3.0>: Keep @copyright, @author intact.
 */function initStorer(a,b){"use strict";function c(a,b,c,d){return null===b||void 0===b||a&&parseInt(+new Date/1e3,10)>parseInt(a,10)?(c(d),null):void 0!==b._end?b.value:b}function d(a,b,d){try{var e=a&&JSON.parse(a);if(e&&void 0!==e._end)return c(e._end,e.value,b,d)}catch(f){}return a}function e(a,b,c,d,e,f){var g=parseInt(+new Date/1e3,10);switch(typeof b){case"number":b=b&&parseInt(g/1e3+b,10);break;case"string":b=b.length>4&&""+parseInt(b,10)===b?parseInt(b,10):parseInt(+new Date(b)/1e3,10);break;case"object":b.toGMTString&&(b=parseInt(+b/1e3,10));break;default:b=null}return a={value:b&&g>b?null:a,_end:b||null},null===a.value||void 0===a.value?d&&d(e):f?c&&c(e,JSON.stringify(a._end?a:a.value)):c&&c(e,a._end?a:a.value),a}function f(){var a,b,c;for(a in w)if(w.hasOwnProperty(a)&&"_"!==a.charAt(0)&&"memoryStorage"!==w[a].STORE_TYPE)for(b=0;c=w[a].key(b++);)w[a].getItem(c)}function g(a,b){var c={STORE_TYPE:"ref"+a,key:function(a){return b.key(a)},getItem:function(a){return b.getItem(a)},setItem:function(a,c,d){return b.setItem(a,c,d)},removeItem:function(a){return b.removeItem(a)},clear:function(){return b.clear()}};return Object.defineProperty(c,"length",{get:function(){return b.length}}),c}function h(a,b){var c=document.createElement("div");return c.STORE_TYPE="DOM"+a,c.key=b.key,c.getItem=b.getItem,c.setItem=b.setItem,c.removeItem=b.removeItem,c.clear=b.clear,Object.defineProperty(c,"length",{get:function(){return b.length}}),c}function i(a){var b=a.getItem,c=a.setItem,f=a._removeItem||a.removeItem,g=function(a){f(a)};return a.getItem=function(a){return d(b(a),g,a)},a.setItem=function(a,b,d){return e(b,d,function(a,b){c(a,b)},g,a,!0)},a}function j(a){return s&&"memoryStorage"!==a.STORE_TYPE?(a._getItem=a.getItem,a._setItem=a.setItem,a._removeItem=a.removeItem,a._key=a.key,a.getItem=function(b){return a._getItem(s+b)},a.setItem=function(b,c,d){return a._setItem(s+b,c,d)},a.removeItem=function(b){return a._removeItem(s+b)},a._key=a.key,a.key=function(b){return void 0!==(b=a._key(b))&&null!==b?0===b.indexOf(s)?b.substr(s.length):b:null},"cookieStorage"!==a.STORE_TYPE?a.clear=function(){for(var b,c=a.length;c--;)0===(b=a._key(c)).indexOf(s)&&a._removeItem(b)}:a.hasItem&&(a._hasItem=a.hasItem,a.hasItem=function(b){return a._hasItem(s+b)}),a):a}function k(a){function c(){k.length=k.getAll().length}a=a||"";var d=new RegExp("(?:^|;)\\s*"+a+s+"[^=;]+\\s*(?:=[^;]*)?","g"),f=new RegExp("^;?\\s*"+a+s),g=new RegExp("(?:^|;)\\s*[^=;]+\\s*(?:=[^;]*)?","g"),h=new RegExp("^;?\\s*"),i=new Date(1979).toGMTString(),k={STORE_TYPE:"cookieStorage",DEFAULT_DOMAIN:escape(b.default_domain||""),DEFAULT_PATH:escape(b.default_path||""),length:0,key:function(a,b){var c=this.getAll(!1,b);return c[a]?c[a].key:void 0},clear:function(a){for(var b=this.getAll(!1,a),c=b.length;c--;)this.removeItem(b[c].key)},getAll:function(a,b){var c,e=b?h:f,i=document.cookie.match(b?g:d)||[],j=i.length;if(a===!0)for(c={length:j};j--;)c[unescape((i[j]=i[j].split("="))[0].replace(e,""))]=i[j][1];else for(c=[];j--;)c.push({key:unescape((i[j]=i[j].split("="))[0].replace(e,"")),value:i[j][1]});return c},getItem:function(b,c){return b&&n(b,c)?(c=document.cookie.match(new RegExp("(?:^|;) *"+escape((c?"":a)+b)+"=([^;]*)(?:;|$)")),c&&c[0]?unescape(c[1]):null):null},setItem:function(b,d,f,g,h,i,j){if(!b||"expires"===b||"max-age"===b||"path"===b||"domain"===b||"secure"===b)return!1;var l="",n=e(d,f);return null!==n._end&&(l="; expires="+new Date(1e3*n._end).toGMTString()),null!==n.value&&void 0!==d&&null!==d?(h=(h="string"==typeof h?escape(h):k.DEFAULT_DOMAIN)?"; domain="+h:"",g=(g="string"==typeof g?escape(g):k.DEFAULT_PATH)?"; path="+g:"",document.cookie=escape((j?"":a)+b)+"="+escape(d)+l+h+g+(i?"; secure":""),c(),!0):m(b,h,g,i,j)},removeItem:function(b,d,e,f,g){b&&n(b,g)&&(d=(d="string"==typeof d?escape(d):k.DEFAULT_DOMAIN)?"; domain="+d:"",e=(e="string"==typeof e?escape(e):k.DEFAULT_PATH)?"; path="+e:"",document.cookie=escape((g?"":a)+b)+"=; expires="+i+d+e+(f?"; secure":""),c())},hasItem:function(b,c){return new RegExp("(?:^|;) *"+escape((c?"":a)+b)+"=").test(document.cookie)}},m=k.removeItem,n=k.hasItem;return k.setItem(q,4),4==k.getItem(q)?(k.removeItem(q),j(k)):l()}function l(){var a={},b=[],d={},f={STORE_TYPE:"memoryStorage",length:0,key:function(a){return b[a]},getItem:function(b){return c(a[b]&&a[b]._end,a[b],this.removeItem,b)},setItem:function(c,g,h){return null!==g&&void 0!==g?(void 0===d[c]&&(d[c]=(f.length=b.push(c))-1),(a[c]=e(g,h)).value):f.removeItem(c)},removeItem:function(c){var e=void 0!==a[c];if(void 0!==d[c]){for(var g=b.length;--g>d[c];)d[b[g]]--;b.splice(d[c],1),delete d[c]}return delete a[c],f.length=b.length,e},clear:function(){for(var c in a)a.hasOwnProperty(c)&&delete a[c];f.length=b.length=0,d={}}};return f}var m,n,o,p,q="__SG__",r=window,s=(b="[object Object]"===Object.prototype.toString.call(a)?a:b||{}).prefix||"",t=b.no_cookie_fallback||!1,u=!0;b===a&&(a=null);try{for(;r!==r.top;)r=r.top}catch(v){}a&&(a=function(a){return function(){a(w),setTimeout(f,100)}}(a));var w={cookieStorage:null,localStorage:null,memoryStorage:null,sessionStorage:null,_createCookieStorage:k,_createMemoryStorage:l};return w.cookieStorage=m=k(),w.memoryStorage=o=l(),w.sessionStorage=p=function(){var a=r.sessionStorage;if(a)try{a.setItem(q,1),a.removeItem(q);var b=function(){};b.prototype=a,b=new b;try{b.getItem&&(b.setItem(q,2),b.removeItem(q))}catch(c){b=null}a=i(b&&!b.getItem?h("sessionStorage",a):b&&"[object StoragePrototype]"!==Object.prototype.toString.apply(Storage.prototype)?b:g("sessionStorage",a))}catch(c){a=null}return a||a||(a=l()),"cookieStorage"===a.STORE_TYPE?a:j(a)}(),w.localStorage=n=function(){var a;if(r.localStorage||r.globalStorage)try{a=r.localStorage||r.globalStorage[location.hostname],a.setItem(q,1),a.removeItem(q);var b=function(){};b.prototype=a,b=new b;try{b.getItem&&(b.setItem(q,2),b.removeItem(q))}catch(c){b=null}a=i(b&&!b.getItem?h("localStorage",a):b&&"[object StoragePrototype]"!==Object.prototype.toString.apply(Storage.prototype)?b:g("localStorage",a))}catch(c){a=null}return a||(a=t?l():k("localStorage")),"cookieStorage"===a.STORE_TYPE?a:j(a)}(),u&&a&&a(w),w}window.initStorer=initStorer;